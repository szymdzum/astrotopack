---
import Section from '@layouts/Section.astro';

import { getEntry } from 'astro:content';
const content = await getEntry('landing', 'intro');
const { name, title, paragraphs } = await content.data;
const [p1, p2, p3, p4] = paragraphs;
---

<Section name={name}>
  <div class="header">
    <h1>{title}</h1>
  </div>
  <div class="content">
    <div class="speech-bubble">
      <p>{p1}</p>
    </div>
    <div class="speech-bubble speech-bubble-right">
      <p>{p2}</p>
    </div>
    <div class="clearfix"></div>
    <div class="emphasis">
      <p>
        {p3}
        {p4}
      </p>
    </div>
    <br />
    <div class="speech-bubble speech-bubble-success">
      <p>Nie jesteś pewien, co zrobić dalej? Chętnie pomogę!</p>
    </div>
  </div>
</Section>

<style lang="scss">
  .content {
    padding-top: var(--padding-md);
  }
  .emphasis {
    margin-top: 1rem;
    margin-bottom: 1rem;
    background: #ffadad;
    padding: 1rem;
    font-weight: 600;
    width: fit-content;
    margin-inline: auto;
    border-radius: var(--radius-md);
  }

  .explanation {
    margin-top: 1rem;
    background: #caffbf;
    padding: 1rem;
    font-weight: 800;
    width: fit-content;
    margin-inline: auto;
    border-radius: var(--radius-md);
  }

  :root {
    --speech-bubble-background: #e8e8e4;
    --speech-bubble-arrow-size: 1rem;
    --success-color: #e8e8e4;
  }

  .speech-bubble {
    position: relative;
    background: var(--speech-bubble-background);
    border-radius: var(--radius-md);
    padding: 1rem 1.5rem;
    width: 70%;
    margin-bottom: 2rem;

    &::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: calc(-1 * var(--speech-bubble-arrow-size));
      border-width: var(--speech-bubble-arrow-size);
      border-style: solid;
      border-color: transparent transparent var(--speech-bubble-background) transparent;
    }

    &-right {
      float: right;

      &::before {
        left: auto;
        right: calc(-1 * var(--speech-bubble-arrow-size));
      }
    }

    &-success {
      float: right;
      background: var(--success-color);

      &::before {
        left: auto;
        right: calc(-1 * var(--speech-bubble-arrow-size));
        border-color: transparent transparent var(--success-color) transparent;
      }
    }
  }

  .clearfix {
    clear: both;
  }
</style>
